/**
 * ========================================
 * ğŸ§¹ Mobile Anti-Overflow å®‰å…¨ CSS æ¸…å•
 * ========================================
 * ç›®æ ‡ï¼šä¸ç®¡çŠ¶æ€æ€ä¹ˆåˆ‡ã€DOM æ€ä¹ˆ show/hideï¼Œéƒ½ç»å¯¹ä¸æ¨ªå‘æº¢å‡º
 * é€‚ç”¨ï¼šbody.mode-h5.is-mobile â†’ .container â†’ tab â†’ filters â†’ list
 *
 * åˆ›å»ºæ—¶é—´ï¼š2026-01-30
 * ä½œè€…ï¼šClaude Code
 * ========================================
 */

/* ============================================================
 * â‘  å…¨å±€å…œåº•ï¼ˆå¿…é¡»æœ‰ï½œä¸è®¨è®ºï¼‰
 * ============================================================ */
html, body {
    width: 100%;
    max-width: 100vw;
    overflow-x: hidden;
    -webkit-overflow-scrolling: touch;
}

/* ğŸ“Œ ä½œç”¨ï¼šé˜²æ­¢ä»»ä½•å­å…ƒç´ æŠŠé¡µé¢æ•´ä½“æ’‘å®½ï¼Œç§»åŠ¨ç«¯ç­‰ä»·äºå®‰å…¨æ°”å›Š */

/* ============================================================
 * â‘¡ container å±‚ï¼ˆéšå½¢é£é™©ç‚¹ï¼‰
 * ============================================================ */
body.mode-h5.is-mobile .container {
    width: 100%;
    max-width: 100%;
    box-sizing: border-box;
    overflow-x: hidden;
}

/* â— åŸå› ï¼šcontainer ä¸€æ—¦æ²¡é” widthï¼Œé‡Œé¢ flex / absolute / translate éƒ½å¯èƒ½å¤–æº¢ */

/* ============================================================
 * â‘¢ tab / pane å±‚ï¼ˆç¦æ­¢å†…è” paddingï¼‰
 * ============================================================ */
body.mode-h5.is-mobile .tab-pane {
    width: 100%;
    max-width: 100%;
    box-sizing: border-box;
    overflow-x: hidden;
    padding-top: var(--tab-offset, 16px); /* ä½¿ç”¨ CSS å˜é‡ï¼Œç¦æ­¢å†…è” style */
}

/* ğŸ“Œ åŸåˆ™ï¼štab-pane æ°¸è¿œä¸èƒ½å‚ä¸æ¨ªå‘å°ºå¯¸è®¡ç®— */

/* ============================================================
 * â‘£ active-filtersï¼ˆäº‹æ•…æºå¤´ - æ°¸ä¸è¶…å®½ç»„ä»¶ï¼‰
 * ============================================================ */
body.mode-h5.is-mobile .active-filters {
    width: 100%;
    max-width: 100%;
    box-sizing: border-box;

    display: flex;
    flex-wrap: wrap;        /* ğŸ”¥ å¿…é¡»ï¼šèƒ½ wrap å°±åˆ« scroll */
    gap: 8px;

    overflow-x: hidden;     /* é˜²æ­¢å•æ¡æ’‘çˆ† */
    padding: 8px 16px;      /* ä½¿ç”¨å›ºå®š paddingï¼Œç¦æ­¢å†…è” style */
}

/* ğŸ”¥ ç­›é€‰æ ‡ç­¾å­å…ƒç´ ä¿æŠ¤ */
body.mode-h5.is-mobile .active-filters > * {
    max-width: calc(100vw - 48px); /* å‡å»å·¦å³ padding */
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    flex-shrink: 1;         /* å…è®¸æ”¶ç¼© */
}

/* ğŸ“Œ å¿ƒæ³•ï¼šç­›é€‰æ¡ â‰  æ¨ªå‘æ»šåŠ¨å®¹å™¨ï¼Œèƒ½ wrap å°±åˆ« scroll */

/* ============================================================
 * â‘¤ æ—¥æœŸ / Tab æŒ‰é’®åŒºï¼ˆéšæ€§é«˜å±ï¼‰
 * ============================================================ */
body.mode-h5.is-mobile .date-tabs,
body.mode-h5.is-mobile .date-grid {
    width: 100%;
    max-width: 100%;
    overflow-x: auto;       /* å¯ä»¥æ¨ªæ»šï¼Œä½†ä¸æ’‘é¡µé¢ */
    box-sizing: border-box;
    -webkit-overflow-scrolling: touch;
}

/* éšè—æ»šåŠ¨æ¡ä½†ä¿ç•™åŠŸèƒ½ */
body.mode-h5.is-mobile .date-tabs::-webkit-scrollbar,
body.mode-h5.is-mobile .date-grid::-webkit-scrollbar {
    display: none;
}

/* ğŸ“Œ åŒºåˆ†æ¸…æ¥šä¸¤ç§è§’è‰²ï¼š
 * ç±»å‹           | overflow
 * é¡µé¢å®¹å™¨       | hidden
 * åŠŸèƒ½æ»šåŠ¨åŒº     | auto
 */

/* ============================================================
 * â‘¥ åˆ—è¡¨å¡ç‰‡ï¼ˆé˜²æ­¢å†…å®¹æ’‘çˆ†ï¼‰
 * ============================================================ */
body.mode-h5.is-mobile .card,
body.mode-h5.is-mobile .list-item,
body.mode-h5.is-mobile .activity-card,
body.mode-h5.is-mobile .schedule-item {
    max-width: 100%;
    box-sizing: border-box;
    min-width: 0;           /* ğŸ”¥ é˜² flex å­å…ƒç´ æ’‘çˆ† */
}

/* ğŸ”¥ è¿™æ˜¯ 90% flex è¶…å®½ bug çš„è§£è¯ */
body.mode-h5.is-mobile .card *,
body.mode-h5.is-mobile .list-item *,
body.mode-h5.is-mobile .activity-card *,
body.mode-h5.is-mobile .schedule-item * {
    min-width: 0;
}

/* ============================================================
 * â‘¦ show / hide çŠ¶æ€ï¼ˆåå¤è§¦å‘é£é™©ï¼‰
 * ============================================================ */
body.mode-h5.is-mobile .show {
    display: flex;          /* æ˜ç¡® layout */
    max-width: 100%;
}

body.mode-h5.is-mobile .active-filters.show {
    display: flex;
    max-width: 100%;
    width: 100%;
}

/* ğŸ“Œ display åˆ‡æ¢æ—¶ï¼Œæµè§ˆå™¨ä¼šé‡æ–°ç®—å®½ï¼Œä¸ç»™ä¸Šé™ = é£é™© */

/* ============================================================
 * â‘§ å¼€å‘æ€ã€Œæº¢å‡ºæŠ¥è­¦å™¨ã€ï¼ˆä»…å¼€å‘ç¯å¢ƒï¼‰
 * ============================================================
 ç”¨æ³•ï¼šåœ¨ <body> æ·»åŠ  class "debug-outline" å¯ç”¨
 ============================================================ */
body.debug-outline * {
    outline: 1px solid rgba(255, 0, 0, 0.1) !important;
    outline-offset: -1px;
}

/* è¶…å®½å…ƒç´ é«˜äº®ï¼ˆçº¢è‰²ï¼‰ */
body.debug-outline *:where(
    [style*="width"],
    [style*="min-width"],
    [style*="max-width"]
) {
    outline: 2px solid rgba(255, 0, 0, 0.3) !important;
}

/* å®‰å…¨å…ƒç´ é«˜äº®ï¼ˆç»¿è‰²ï¼‰ */
body.debug-outline *:where(
    [style*="overflow-x: hidden"],
    .overflow-safe
) {
    outline: 1px solid rgba(0, 255, 0, 0.2) !important;
}

/* ğŸ“Œ ä¸€çœ¼å°±èƒ½çœ‹åˆ°è°åœ¨å·è·‘åˆ°å³è¾¹ */

/* ============================================================
 * ğŸ›¡ï¸ é¢å¤–çš„é˜²å¾¡æ€§è§„åˆ™
 * ============================================================ */

/* Flex å­å…ƒç´ é€šç”¨ä¿æŠ¤ */
body.mode-h5.is-mobile * {
    min-width: 0;           /* é˜²æ­¢ flex å­å…ƒç´ å†…å®¹æ’‘çˆ† */
    max-width: 100%;        /* å¼ºåˆ¶æ‰€æœ‰å…ƒç´ ä¸è¶…å‡ºçˆ¶å®¹å™¨ */
}

/* å›¾ç‰‡ä¿æŠ¤ */
body.mode-h5.is-mobile img {
    max-width: 100%;
    height: auto;
    display: block;
}

/* iframe ä¿æŠ¤ */
body.mode-h5.is-mobile iframe {
    max-width: 100%;
    border: none;
}

/* è¡¨å•å…ƒç´ ä¿æŠ¤ */
body.mode-h5.is-mobile input,
body.mode-h5.is-mobile select,
body.mode-h5.is-mobile textarea,
body.mode-h5.is-mobile button {
    max-width: 100%;
    box-sizing: border-box;
}

/* ============================================================
 * ğŸ¯ CSS å˜é‡å®šä¹‰
 * ============================================================ */
:root {
    --tab-offset: 16px;
    --filter-padding-x: 16px;
    --filter-padding-y: 8px;
}

/* ============================================================
 * âœ… æœ€ç»ˆæ£€æŸ¥æ¸…å•
 * ============================================================
 *
 * âœ… html / body æœ‰ overflow-x: hidden
 * âœ… container é” width
 * âœ… tab-pane æ— å†…è” padding
 * âœ… active-filters æ”¯æŒ wrap
 * âœ… æ¨ªå‘æ»šåŠ¨åŒº â‰  é¡µé¢å®¹å™¨
 * âœ… flex å­å…ƒç´ æœ‰ min-width: 0
 *
 * ğŸ§  ä¸€å¥è¯æ€»ç»“ï¼š
 * ç§»åŠ¨ç«¯åªè¦"çŠ¶æ€æ¡ + flex + æœªé”å®½"ï¼Œè¿Ÿæ—©æ¨ªå‘æº¢å‡ºã€‚
 * ============================================================ */
