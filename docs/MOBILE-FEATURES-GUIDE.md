# ç§»åŠ¨ç«¯ä¼˜åŒ–åŠŸèƒ½ä½¿ç”¨æŒ‡å—

æœ¬æ–‡æ¡£ä»‹ç»æ¸…è¿ˆé¡¹ç›®ä¸­æ–°å¢çš„ç§»åŠ¨ç«¯ä¼˜åŒ–åŠŸèƒ½çš„ä½¿ç”¨æ–¹æ³•ã€‚

## ğŸ“± åŠŸèƒ½æ¦‚è§ˆ

åŸºäºæºç¨‹ç­‰é¡¶çº§ç§»åŠ¨åº”ç”¨çš„äº¤äº’è®¾è®¡ï¼Œæˆ‘ä»¬å®ç°äº†ä»¥ä¸‹ç§»åŠ¨ç«¯ä¼˜åŒ–åŠŸèƒ½ï¼š

1. âœ… Bottom Sheet ç­›é€‰ç»„ä»¶
2. âœ… Toast æç¤ºç³»ç»Ÿ
3. âœ… Dialog ç¡®è®¤å¼¹çª—
4. âœ… Loading åŠ è½½çŠ¶æ€
5. âœ… ä¸‹æ‹‰åˆ·æ–°
6. âœ… ç©ºçŠ¶æ€è®¾è®¡
7. âœ… æµ®åŠ¨ç­›é€‰æŒ‰é’® (FAB)

---

## 1ï¸âƒ£ Bottom Sheet ç­›é€‰ç»„ä»¶

### åŠŸèƒ½ç‰¹ç‚¹
- ä»åº•éƒ¨æ»‘å‡ºçš„ç­›é€‰é¢æ¿
- æ”¯æŒæ‰‹åŠ¿æ‹–æ‹½å…³é—­
- ç‚¹å‡»é®ç½©å±‚å…³é—­
- å æ®å±å¹•æœ€å¤§ 85% é«˜åº¦
- å¹³æ»‘çš„åŠ¨ç”»æ•ˆæœ

### ä½¿ç”¨æ–¹æ³•
```javascript
// æ‰“å¼€ç­›é€‰é¢æ¿
openFilterSheet();

// å…³é—­ç­›é€‰é¢æ¿
closeFilterSheet();
```

### ç­›é€‰é€‰é¡¹
- **åˆ†ç±»ç­›é€‰**: å…¨éƒ¨ã€å…´è¶£ç­ã€å¸‚é›†
- **ä»·æ ¼ç­›é€‰**: å…¨éƒ¨ã€å…è´¹ã€0-100ã€100-300ã€300-500ã€500+

### ç­›é€‰çŠ¶æ€ç®¡ç†
```javascript
// è·å–å½“å‰ç­›é€‰çŠ¶æ€
const selectedFilters = {
    category: 'all',  // 'all' | 'class' | 'market'
    price: 'all'      // 'all' | 'free' | '0-100' | ...
};

// é‡ç½®ç­›é€‰
resetFilters();

// åº”ç”¨ç­›é€‰
applyFilters();
```

---

## 2ï¸âƒ£ Toast æç¤ºç³»ç»Ÿ

### åŠŸèƒ½ç‰¹ç‚¹
- è½»é‡çº§æ¶ˆæ¯æç¤º
- è‡ªåŠ¨æ¶ˆå¤±ï¼ˆå¯è‡ªå®šä¹‰æ—¶é•¿ï¼‰
- ä¸‰ç§ç±»å‹ï¼šsuccessã€errorã€info
- å±…ä¸­æ˜¾ç¤ºï¼ŒåŠé€æ˜èƒŒæ™¯

### ä½¿ç”¨æ–¹æ³•
```javascript
// æ˜¾ç¤ºæç¤ºï¼ˆé»˜è®¤ 2 ç§’ï¼‰
showToast('æ“ä½œæˆåŠŸ', 'success');

// è‡ªå®šä¹‰æ˜¾ç¤ºæ—¶é•¿
showToast('æ­£åœ¨å¤„ç†...', 'info', 3000);

// ä¸åŒç±»å‹çš„æç¤º
showToast('ä¿å­˜æˆåŠŸ', 'success');
showToast('åˆ é™¤å¤±è´¥', 'error');
showToast('è¯·é€‰æ‹©é¡¹ç›®', 'info');
```

---

## 3ï¸âƒ£ Dialog ç¡®è®¤å¼¹çª—

### åŠŸèƒ½ç‰¹ç‚¹
- æ¨¡æ€ç¡®è®¤å¯¹è¯æ¡†
- å¯è‡ªå®šä¹‰æ ‡é¢˜å’Œæ¶ˆæ¯
- æ”¯æŒå–æ¶ˆå’Œç¡®è®¤å›è°ƒ
- ç¼©æ”¾åŠ¨ç”»æ•ˆæœ

### ä½¿ç”¨æ–¹æ³•
```javascript
// åŸºæœ¬ç”¨æ³•
showDialog(
    'åˆ é™¤ç¡®è®¤',           // æ ‡é¢˜
    'ç¡®å®šè¦åˆ é™¤å—ï¼Ÿ',     // æ¶ˆæ¯
    () => {              // ç¡®è®¤å›è°ƒ
        console.log('å·²ç¡®è®¤');
    },
    () => {              // å–æ¶ˆå›è°ƒ
        console.log('å·²å–æ¶ˆ');
    }
);
```

### å®é™…åº”ç”¨ç¤ºä¾‹
```javascript
// åˆ é™¤æ“ä½œç¡®è®¤
function deleteItem(id) {
    showDialog(
        'åˆ é™¤ç¡®è®¤',
        'ç¡®å®šè¦åˆ é™¤è¿™ä¸ªé¡¹ç›®å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ¢å¤ã€‚',
        () => {
            // æ‰§è¡Œåˆ é™¤
            api.deleteItem(id).then(() => {
                showToast('åˆ é™¤æˆåŠŸ', 'success');
            });
        },
        () => {
            showToast('å·²å–æ¶ˆåˆ é™¤', 'info');
        }
    );
}
```

---

## 4ï¸âƒ£ Loading åŠ è½½çŠ¶æ€

### åŠŸèƒ½ç‰¹ç‚¹
- å…¨å±åŠ è½½é®ç½©
- æ—‹è½¬åŠ è½½åŠ¨ç”»
- å¯è‡ªå®šä¹‰åŠ è½½æ–‡å­—
- é˜²æ­¢ç”¨æˆ·è¯¯æ“ä½œ

### ä½¿ç”¨æ–¹æ³•
```javascript
// æ˜¾ç¤ºåŠ è½½
showLoading('æ­£åœ¨åŠ è½½æ•°æ®...');

// éšè—åŠ è½½
hideLoading();

// å¼‚æ­¥æ“ä½œç¤ºä¾‹
async function loadData() {
    showLoading('åŠ è½½ä¸­...');
    try {
        const data = await fetchData();
        return data;
    } finally {
        hideLoading();
    }
}
```

### éª¨æ¶å±
```css
/* ä½¿ç”¨éª¨æ¶å±å ä½ */
<div class="skeleton-card">
    <div class="skeleton skeleton-title"></div>
    <div class="skeleton skeleton-text"></div>
    <div class="skeleton skeleton-text short"></div>
</div>
```

---

## 5ï¸âƒ£ ä¸‹æ‹‰åˆ·æ–°

### åŠŸèƒ½ç‰¹ç‚¹
- æ‰‹åŠ¿ä¸‹æ‹‰è§¦å‘åˆ·æ–°
- è§†è§‰åé¦ˆæŒ‡ç¤ºå™¨
- å¯é…ç½®è§¦å‘é˜ˆå€¼ï¼ˆé»˜è®¤ 80pxï¼‰
- è‡ªåŠ¨éšè—

### ä½¿ç”¨æ–¹æ³•
```javascript
// è®¾ç½®åˆ·æ–°å›è°ƒ
setRefreshCallback(async () => {
    // æ‰§è¡Œåˆ·æ–°é€»è¾‘
    await refreshData();
    console.log('åˆ·æ–°å®Œæˆ');
});
```

### ä¸‹æ‹‰åˆ·æ–°åŒºåŸŸ
åœ¨é¡µé¢é¡¶éƒ¨å‘ä¸‹æ‹‰åŠ¨å³å¯è§¦å‘åˆ·æ–°ã€‚æ”¯æŒçš„æ¡ä»¶ï¼š
- å¿…é¡»åœ¨é¡µé¢é¡¶éƒ¨ï¼ˆscrollY = 0ï¼‰
- ä¸‹æ‹‰è·ç¦»è¶…è¿‡é˜ˆå€¼ï¼ˆ80pxï¼‰
- æ¾æ‰‹åè‡ªåŠ¨è§¦å‘åˆ·æ–°

---

## 6ï¸âƒ£ ç©ºçŠ¶æ€è®¾è®¡

### åŠŸèƒ½ç‰¹ç‚¹
- å‹å¥½çš„ç©ºçŠ¶æ€æç¤º
- å¯è‡ªå®šä¹‰å›¾æ ‡ã€æ ‡é¢˜ã€æ¶ˆæ¯
- æ”¯æŒæ“ä½œæŒ‰é’®
- å±…ä¸­å¯¹é½

### ä½¿ç”¨æ–¹æ³•
```javascript
// æ˜¾ç¤ºç©ºçŠ¶æ€
showEmptyState(container, {
    icon: 'ğŸ“­',
    title: 'æš‚æ— æ•°æ®',
    message: 'å½“å‰æ²¡æœ‰å¯æ˜¾ç¤ºçš„å†…å®¹'
});

// å®Œæ•´ç¤ºä¾‹
function renderEmptyState() {
    const container = document.querySelector('.content');
    showEmptyState(container, {
        icon: 'ğŸ”',
        title: 'æœªæ‰¾åˆ°ç›¸å…³æ´»åŠ¨',
        message: 'è¯·å°è¯•è°ƒæ•´ç­›é€‰æ¡ä»¶æˆ–æœç´¢å…³é”®è¯'
    });
}
```

---

## 7ï¸âƒ£ ç§»åŠ¨ç«¯æµ®åŠ¨ç­›é€‰æŒ‰é’® (FAB)

### åŠŸèƒ½ç‰¹ç‚¹
- å›ºå®šåœ¨å³ä¸‹è§’ï¼ˆç§»åŠ¨ç«¯ï¼‰
- åœ†å½¢æŒ‰é’®ï¼Œæ¸å˜è‰²
- æ˜¾ç¤ºç­›é€‰è®¡æ•°å¾½ç« 
- ç‚¹å‡»æ‰“å¼€ Bottom Sheet

### æ˜¾ç¤ºæ¡ä»¶
- ä»…åœ¨ç§»åŠ¨ç«¯æ˜¾ç¤ºï¼ˆå±å¹•å®½åº¦ â‰¤ 768pxï¼‰
- å½“æœ‰ç­›é€‰æ¡ä»¶æ—¶æ˜¾ç¤ºè®¡æ•°å¾½ç« 

### ä½ç½®è°ƒæ•´
```css
/* é»˜è®¤ä½ç½® */
.mobile-filter-fab {
    bottom: 80px;
    right: 16px;
}
```

---

## ğŸ¨ æ ·å¼å®šåˆ¶

### CSS å˜é‡
```css
:root {
    --z-header: 1001;
    --z-modal: 2000;
    --z-toast: 3000;
}
```

### é¢œè‰²ä¸»é¢˜
```css
/* ä¸»è‰²è°ƒæ¸å˜ */
background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);

/* Toast é¢œè‰² */
.toast.success { background: rgba(76, 175, 80, 0.95); }
.toast.error { background: rgba(244, 67, 54, 0.95); }
.toast.info { background: rgba(0, 0, 0, 0.85); }
```

---

## ğŸ§ª æµ‹è¯•é¡µé¢

æˆ‘ä»¬æä¾›äº†ä¸€ä¸ªå®Œæ•´çš„æµ‹è¯•é¡µé¢ï¼Œå¯ä»¥äº¤äº’å¼ä½“éªŒæ‰€æœ‰åŠŸèƒ½ï¼š

**è®¿é—®åœ°å€**: `http://localhost:3000/test-mobile-features.html`

### æµ‹è¯•é¡µé¢åŒ…å«
1. Bottom Sheet æ‰“å¼€æµ‹è¯•
2. Toast ä¸‰ç§ç±»å‹æ¼”ç¤º
3. Dialog ç¡®è®¤å¼¹çª—æµ‹è¯•
4. Loading åŠ è½½çŠ¶æ€æ¼”ç¤º
5. ä¸‹æ‹‰åˆ·æ–°æ¨¡æ‹Ÿ
6. ç©ºçŠ¶æ€å±•ç¤º

---

## ğŸ“± ç§»åŠ¨ç«¯æœ€ä½³å®è·µ

### è§¦æ‘¸ä¼˜åŒ–
- æœ€å°è§¦æ‘¸å°ºå¯¸ï¼š44pxï¼ˆiOS æ¨èï¼‰
- æŒ‰é’®é—´è·ï¼šè‡³å°‘ 8px
- è§¦è§‰åé¦ˆï¼šä½¿ç”¨ `navigator.vibrate()`

### æ€§èƒ½ä¼˜åŒ–
- ä½¿ç”¨ CSS `transform` ä»£æ›¿ `top/left`
- ä½¿ç”¨ `will-change` æç¤ºæµè§ˆå™¨ä¼˜åŒ–
- é¿å…é‡æ’å’Œé‡ç»˜

### å“åº”å¼è®¾è®¡
```css
/* ç§»åŠ¨ç«¯å“åº”å¼ */
@media (max-width: 768px) {
    /* ç§»åŠ¨ç«¯ç‰¹å®šæ ·å¼ */
}
```

---

## ğŸ”§ é›†æˆåˆ°ç°æœ‰ä»£ç 

### åœ¨ç­›é€‰åŠŸèƒ½ä¸­é›†æˆ
```javascript
// ç°æœ‰çš„ç­›é€‰é€»è¾‘å¯ä»¥é›†æˆåˆ° Bottom Sheet
function applyFilters() {
    const { category, price } = selectedFilters;

    // è°ƒç”¨ç°æœ‰çš„ç­›é€‰å‡½æ•°
    const filtered = filterActivities(
        activities,
        currentFilters
    );

    // åº”ç”¨ç­›é€‰ç»“æœ
    renderActivities(filtered);
    closeFilterSheet();
    showToast('ç­›é€‰å·²åº”ç”¨', 'success');
}
```

### åœ¨æ•°æ®åŠ è½½ä¸­ä½¿ç”¨
```javascript
// åŠ è½½æ•°æ®æ—¶ä½¿ç”¨ Loading
async function loadActivities() {
    showLoading('åŠ è½½æ´»åŠ¨æ•°æ®...');
    try {
        const data = await fetchActivities();
        renderActivities(data);
        showToast('åŠ è½½æˆåŠŸ', 'success');
    } catch (error) {
        showToast('åŠ è½½å¤±è´¥', 'error');
        showEmptyState(container, {
            title: 'åŠ è½½å¤±è´¥',
            message: error.message
        });
    } finally {
        hideLoading();
    }
}
```

---

## ğŸ“Š æ€§èƒ½æŒ‡æ ‡

### åŠ¨ç”»æ€§èƒ½
- **Bottom Sheet**: 60fps æµç•…åŠ¨ç”»
- **Toast**: 300ms æ·¡å…¥æ·¡å‡º
- **Dialog**: 300ms ç¼©æ”¾åŠ¨ç”»
- **Loading**: 0.8s æ—‹è½¬ä¸€åœˆ

### å…¼å®¹æ€§
- âœ… iOS Safari 12+
- âœ… Android Chrome 70+
- âœ… å¾®ä¿¡æµè§ˆå™¨
- âœ… æ”¯ä»˜å®æµè§ˆå™¨

---

## ğŸ¯ æœªæ¥è®¡åˆ’

- [ ] æ·»åŠ ä¸Šæ»‘åŠ è½½æ›´å¤š
- [ ] å®ç°è™šæ‹Ÿæ»šåŠ¨ï¼ˆé•¿åˆ—è¡¨ä¼˜åŒ–ï¼‰
- [ ] æ·»åŠ å›¾ç‰‡æ‡’åŠ è½½
- [ ] æ”¯æŒæ›´å¤šç­›é€‰ç»´åº¦
- [ ] æ·»åŠ ç­›é€‰å†å²è®°å½•

---

## ğŸ“š å‚è€ƒèµ„æ–™

- [æºç¨‹ç§»åŠ¨ç«¯è®¾è®¡è§„èŒƒ](https://blog.csdn.net/ctrip_tech/article/details/144597698)
- [Material Design Components](https://material.io/components)
- [Mobile Bottom Sheet Design](https://mobbin.com/explore/mobile/ui-elements/bottom-sheet)

---

## ğŸ¤ è´¡çŒ®

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·ï¼š
1. æŸ¥çœ‹æµ‹è¯•é¡µé¢ï¼š`test-mobile-features.html`
2. æŸ¥çœ‹æºä»£ç ï¼š`public/index.html`
3. æäº¤ Issue æˆ– PR

---

**æœ€åæ›´æ–°**: 2026-01-29
**ç‰ˆæœ¬**: v1.0.0
