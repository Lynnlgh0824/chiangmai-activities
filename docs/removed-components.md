# 已移除的全局组件

## 2026-01-29

### Toast（全局提示）
**移除原因**：
- 移动端遮挡问题
- 多实例冲突
- 状态不可控
- 改为页面级组件

**替代方案**：
- 使用页面级内联提示
- 使用控制台日志（开发环境）
- 使用状态横幅（filter-status-banner，后也移除）

---

### Dialog Overlay（确认弹窗）
**移除原因**：
- 全局副作用过大
- 移动端体验问题
- 阻塞页面交互
- 改为页面内组件

**替代方案**：
- 使用浏览器原生 `confirm()` / `alert()`
- 使用自定义页面内弹窗
- 使用非阻塞状态提示

---

### Loading Overlay（加载遮罩）
**移除原因**：
- 阻塞用户操作
- 视觉干扰过大
- 加载状态不够明确
- 改为骨架屏（Skeleton）

**替代方案**：
- 使用骨架屏组件（`.skeleton`）
- 使用页面内加载指示器
- 使用乐观更新（Optimistic UI）

---

### Pull Indicator（下拉刷新）
**移除原因**：
- 与原生下拉刷新冲突
- 触发逻辑复杂
- 用户体验不一致
- 移动端浏览器已支持原生下拉刷新

**替代方案**：
- 依赖浏览器原生下拉刷新
- 使用手动刷新按钮
- 使用自动刷新机制

---

### Mobile Filter Status（移动端筛选状态条）
**移除原因**：
- 信息冗余（顶部已有筛选状态）
- 占用屏幕空间
- 与筛选按钮功能重复
- 认知负担增加

**替代方案**：
- 使用日期卡片高亮显示当前筛选
- 使用筛选标签（Filter Tags）
- 使用重置按钮

---

## 设计原则

**核心原则**："已移除/不再使用"的信息绝不能存在于运行时代码里

✅ **允许存在于**：
- Git 提交记录
- CHANGELOG.md
- 文档（README, docs/）
- 注释文档（设计文档）

❌ **禁止存在于**：
- index.html
- 页面模板
- layout
- render tree
- 任何运行时代码

**原因**：
1. **认知污染**：新人/未来的你不知道到底还能不能用
2. **代码不可回收**：没人敢删
3. **误复活风险**：某次重构时误复活/误依赖

---

## 代码审查检查清单

- [ ] HTML 中没有 `<!-- ❌ 已移除 -->` 注释
- [ ] CSS 中没有 `/* ❌ 已移除 */` 注释
- [ ] JavaScript 中没有 `// ❌ 已移除` 注释
- [ ] 没有被注释掉的代码块（只有删除或活跃代码）
- [ ] 所有历史变更都在 Git 提交记录中
- [ ] 所有重大变更都在 CHANGELOG.md 中

---

## 相关 Git 提交

```
commit 43fd49b
refactor: 移除 filter-status-banner 组件

commit cffa37e
refactor: 移除 tab-pane 动态 padding-top 硬编码

commit 1eadbb1
refactor: 简化日期模块 - 仅保留日期卡片，移除导航功能
```
