# Git æœ€ä½³å®è·µæŒ‡å—

> ä¸ªäººé¡¹ç›®ç‰ˆæœ¬æ§åˆ¶å®Œæ•´æŒ‡å—
>
> æ›´æ–°æ—¶é—´ï¼š2026-01-29

## ğŸ“š ç›®å½•

- [Git æ ¸å¿ƒæ¦‚å¿µ](#git-æ ¸å¿ƒæ¦‚å¿µ)
- [å·²é…ç½®çš„ Git åˆ«å](#å·²é…ç½®çš„-git-åˆ«å)
- [å¸¸ç”¨ Git å‘½ä»¤](#å¸¸ç”¨-git-å‘½ä»¤)
- [å·¥ä½œæµè¾…åŠ©è„šæœ¬](#å·¥ä½œæµè¾…åŠ©è„šæœ¬)
- [ä¸ªäººé¡¹ç›®æœ€ä½³å®è·µ](#ä¸ªäººé¡¹ç›®æœ€ä½³å®è·µ)
- [æäº¤ä¿¡æ¯è§„èŒƒ](#æäº¤ä¿¡æ¯è§„èŒƒ)
- [å¸¸è§é—®é¢˜å¤„ç†](#å¸¸è§é—®é¢˜å¤„ç†)

---

## Git æ ¸å¿ƒæ¦‚å¿µ

### ä¸‰ç§çŠ¶æ€

```
å·¥ä½œåŒº (Working Directory)
    â†“ git add
æš‚å­˜åŒº (Staging Area)
    â†“ git commit
ç‰ˆæœ¬åº“ (Repository)
```

- **å·¥ä½œåŒº**ï¼šä½ å®é™…ä¿®æ”¹çš„æ–‡ä»¶
- **æš‚å­˜åŒº**ï¼šå‡†å¤‡ä¸‹æ¬¡æäº¤çš„æ–‡ä»¶
- **ç‰ˆæœ¬åº“**ï¼šå·²æäº¤çš„å†å²è®°å½•

### åŸºæœ¬æµç¨‹

```bash
# 1. ä¿®æ”¹æ–‡ä»¶
# 2. æŸ¥çœ‹çŠ¶æ€
git status

# 3. æ·»åŠ åˆ°æš‚å­˜åŒº
git add .              # æ·»åŠ æ‰€æœ‰æ›´æ”¹
git add æ–‡ä»¶å          # æ·»åŠ ç‰¹å®šæ–‡ä»¶

# 4. æäº¤åˆ°ç‰ˆæœ¬åº“
git commit -m "æè¿°ä¿¡æ¯"

# 5. æ¨é€åˆ°è¿œç¨‹ï¼ˆå¦‚æœéœ€è¦ï¼‰
git push
```

---

## å·²é…ç½®çš„ Git åˆ«å

ä¸ºäº†æå‡æ•ˆç‡ï¼Œå·²ä¸ºä½ é…ç½®ä»¥ä¸‹ Git åˆ«åï¼š

| åˆ«å | å®Œæ•´å‘½ä»¤ | è¯´æ˜ |
|------|----------|------|
| `git st` | `git status` | æŸ¥çœ‹çŠ¶æ€ |
| `git co` | `git checkout` | åˆ‡æ¢åˆ†æ”¯/æ¢å¤æ–‡ä»¶ |
| `git br` | `git branch` | ç®¡ç†åˆ†æ”¯ |
| `git ci` | `git commit` | æäº¤æ›´æ”¹ |
| `git unstage` | `git reset HEAD --` | å–æ¶ˆæš‚å­˜ |
| `git last` | `git log -1 HEAD` | æŸ¥çœ‹æœ€åä¸€æ¬¡æäº¤ |
| `git uncommit` | `git reset --soft HEAD^` | æ’¤é”€æœ€åä¸€æ¬¡æäº¤ |
| `git amend` | `git commit --amend --no-edit` | ä¿®æ”¹æœ€åä¸€æ¬¡æäº¤ |
| `git logs` | `git log --oneline --graph --decorate` | æŸ¥çœ‹æäº¤å†å² |

**ä½¿ç”¨ç¤ºä¾‹ï¼š**
```bash
git st                    # ä»£æ›¿ git status
git ci -m "å®ŒæˆåŠŸèƒ½"       # ä»£æ›¿ git commit -m "å®ŒæˆåŠŸèƒ½"
git logs                  # æŸ¥çœ‹ç¾è§‚çš„æäº¤å†å²
```

---

## å¸¸ç”¨ Git å‘½ä»¤

### æ—¥å¸¸æ“ä½œ

```bash
# æŸ¥çœ‹çŠ¶æ€
git status
git st                   # ä½¿ç”¨åˆ«å

# æŸ¥çœ‹ä¿®æ”¹å†…å®¹
git diff                 # å·¥ä½œåŒº vs æš‚å­˜åŒº
git diff --staged        # æš‚å­˜åŒº vs ç‰ˆæœ¬åº“
git diff HEAD            # å·¥ä½œåŒº vs ç‰ˆæœ¬åº“

# æ·»åŠ æ›´æ”¹
git add .                # æ·»åŠ æ‰€æœ‰æ›´æ”¹
git add æ–‡ä»¶å            # æ·»åŠ ç‰¹å®šæ–‡ä»¶
git add -p               # äº¤äº’å¼æ·»åŠ ï¼ˆéƒ¨åˆ†æ·»åŠ ï¼‰

# æäº¤æ›´æ”¹
git commit -m "æè¿°ä¿¡æ¯"
git commit -am "æè¿°ä¿¡æ¯" # æ·»åŠ å¹¶æäº¤å·²è¿½è¸ªæ–‡ä»¶

# æŸ¥çœ‹å†å²
git log                  # è¯¦ç»†å†å²
git log --oneline        # ç®€æ´å†å²
git logs                 # ç¾è§‚çš„å›¾å½¢åŒ–å†å²ï¼ˆåˆ«åï¼‰
```

### åˆ†æ”¯ç®¡ç†

```bash
# æŸ¥çœ‹åˆ†æ”¯
git branch               # æœ¬åœ°åˆ†æ”¯
git branch -r            # è¿œç¨‹åˆ†æ”¯
git branch -a            # æ‰€æœ‰åˆ†æ”¯

# åˆ›å»ºåˆ†æ”¯
git branch åˆ†æ”¯å        # åˆ›å»ºä½†ä¸åˆ‡æ¢
git checkout -b åˆ†æ”¯å    # åˆ›å»ºå¹¶åˆ‡æ¢

# åˆ‡æ¢åˆ†æ”¯
git checkout åˆ†æ”¯å
git co åˆ†æ”¯å            # ä½¿ç”¨åˆ«å

# åˆå¹¶åˆ†æ”¯
git merge åˆ†æ”¯å         # åˆå¹¶æŒ‡å®šåˆ†æ”¯åˆ°å½“å‰åˆ†æ”¯

# åˆ é™¤åˆ†æ”¯
git branch -d åˆ†æ”¯å     # åˆ é™¤å·²åˆå¹¶åˆ†æ”¯
git branch -D åˆ†æ”¯å     # å¼ºåˆ¶åˆ é™¤
```

### æ’¤é”€æ“ä½œ

```bash
# æ’¤é”€å·¥ä½œåŒºä¿®æ”¹
git checkout -- æ–‡ä»¶å
git restore æ–‡ä»¶å

# æ’¤é”€æš‚å­˜
git reset HEAD æ–‡ä»¶å
git unstage æ–‡ä»¶å       # ä½¿ç”¨åˆ«å

# æ’¤é”€æäº¤ï¼ˆä¿ç•™æ›´æ”¹ï¼‰
git reset --soft HEAD^
git uncommit             # ä½¿ç”¨åˆ«å

# æ’¤é”€æäº¤ï¼ˆä¸¢å¼ƒæ›´æ”¹ï¼‰
git reset --hard HEAD^

# æ’¤é”€ç‰¹å®šæäº¤ï¼ˆåˆ›å»ºæ–°æäº¤ï¼‰
git revert æäº¤ID
```

### è¿œç¨‹æ“ä½œ

```bash
# æŸ¥çœ‹è¿œç¨‹ä»“åº“
git remote -v

# æ‹‰å–æ›´æ–°
git pull                 # æ‹‰å–å¹¶åˆå¹¶
git fetch                # åªæ‹‰å–ä¸åˆå¹¶

# æ¨é€æ›´æ–°
git push                 # æ¨é€åˆ°é»˜è®¤è¿œç¨‹åˆ†æ”¯
git push origin åˆ†æ”¯å   # æ¨é€åˆ°æŒ‡å®šåˆ†æ”¯

# è®¾ç½®ä¸Šæ¸¸åˆ†æ”¯
git push -u origin åˆ†æ”¯å
```

---

## å·¥ä½œæµè¾…åŠ©è„šæœ¬

é¡¹ç›®åŒ…å«äº†ä¸€ä¸ªä¾¿æ·çš„ Git å·¥ä½œæµè„šæœ¬ï¼š`scripts/git-workflow.sh`

### ä½¿ç”¨æ–¹æ³•

```bash
# ä»é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œ
./scripts/git-workflow.sh [å‘½ä»¤] [å‚æ•°]
```

### å¯ç”¨å‘½ä»¤

| å‘½ä»¤ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `save [message]` | å¿«é€Ÿä¿å­˜æ›´æ”¹ | `./scripts/git-workflow.sh save "ä¿®å¤ç™»å½•bug"` |
| `undo` | æ’¤é”€æœ€åä¸€æ¬¡æäº¤ | `./scripts/git-workflow.sh undo` |
| `clean` | æ¸…ç†æœªè¿½è¸ªçš„æ–‡ä»¶ | `./scripts/git-workflow.sh clean` |
| `sync` | åŒæ­¥è¿œç¨‹æ›´æ”¹ | `./scripts/git-workflow.sh sync` |
| `backup [branch]` | å¤‡ä»½å½“å‰åˆ†æ”¯ | `./scripts/git-workflow.sh backup` |
| `logs` | æ˜¾ç¤ºæäº¤å†å² | `./scripts/git-workflow.sh logs` |
| `status` | æ˜¾ç¤ºå½“å‰çŠ¶æ€ | `./scripts/git-workflow.sh status` |
| `help` | æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯ | `./scripts/git-workflow.sh help` |

### ä½¿ç”¨ç¤ºä¾‹

```bash
# å¿«é€Ÿä¿å­˜æ›´æ”¹
./scripts/git-workflow.sh save "å®Œæˆç”¨æˆ·è®¤è¯åŠŸèƒ½"

# æŸ¥çœ‹çŠ¶æ€
./scripts/git-workflow.sh status

# æŸ¥çœ‹å†å²
./scripts/git-workflow.sh logs

# æ’¤é”€æœ€åä¸€æ¬¡æäº¤
./scripts/git-workflow.sh undo
```

---

## ä¸ªäººé¡¹ç›®æœ€ä½³å®è·µ

### 1. é¢‘ç¹æäº¤ï¼Œå°æ­¥å¿«è·‘

```bash
# âœ… å¥½çš„åšæ³•
git commit -m "æ·»åŠ ç”¨æˆ·æ¨¡å‹"
git commit -m "å®ç°ç™»å½•æ¥å£"
git commit -m "æ·»åŠ ç™»å½•è¡¨å•éªŒè¯"

# âŒ é¿å…
# ä¿®æ”¹äº†10ä¸ªæ–‡ä»¶ï¼Œä¸€æ¬¡æ€§æäº¤
git commit -m "å®Œæˆå¾ˆå¤šåŠŸèƒ½"
```

### 2. ä½¿ç”¨åˆ†æ”¯è¿›è¡Œå®éªŒ

```bash
# åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
git checkout -b feature/new-feature

# å¼€å‘å®Œæˆååˆå¹¶å›ä¸»åˆ†æ”¯
git checkout main
git merge feature/new-feature
```

### 3. æäº¤å‰æ£€æŸ¥

```bash
# 1. æŸ¥çœ‹å°†è¦æäº¤çš„å†…å®¹
git diff --staged

# 2. æŸ¥çœ‹çŠ¶æ€
git status

# 3. ç¡®è®¤æ— è¯¯åæäº¤
git commit -m "æ¸…æ™°çš„æè¿°"
```

### 4. å®šæœŸå¤‡ä»½

```bash
# ä½¿ç”¨è„šæœ¬å¤‡ä»½
./scripts/git-workflow.sh backup

# æˆ–æ‰‹åŠ¨åˆ›å»ºå¤‡ä»½åˆ†æ”¯
git branch backup-$(date +%Y%m%d)
```

### 5. ä¿æŒ .gitignore æ›´æ–°

ç¡®ä¿ä»¥ä¸‹å†…å®¹è¢«å¿½ç•¥ï¼š
- ä¾èµ–ç›®å½•ï¼ˆnode_modules/ï¼‰
- æ„å»ºäº§ç‰©ï¼ˆdist/, build/ï¼‰
- æ•æ„Ÿé…ç½®ï¼ˆ.envï¼‰
- ç³»ç»Ÿæ–‡ä»¶ï¼ˆ.DS_Storeï¼‰
- IDE é…ç½®æ–‡ä»¶

---

## æäº¤ä¿¡æ¯è§„èŒƒ

### æ¨èæ ¼å¼

```bash
<ç±»å‹>(<èŒƒå›´>): <æè¿°>

[å¯é€‰çš„è¯¦ç»†æè¿°]

[å¯é€‰çš„è„šæ³¨]
```

### å¸¸ç”¨ç±»å‹

| ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `feat` | æ–°åŠŸèƒ½ | `feat: æ·»åŠ ç”¨æˆ·æ³¨å†ŒåŠŸèƒ½` |
| `fix` | ä¿®å¤bug | `fix: ä¿®å¤ç™»å½•éªŒè¯é”™è¯¯` |
| `docs` | æ–‡æ¡£æ›´æ–° | `docs: æ›´æ–°READMEè¯´æ˜` |
| `style` | ä»£ç æ ¼å¼ | `style: æ ¼å¼åŒ–ä»£ç ç¼©è¿›` |
| `refactor` | é‡æ„ä»£ç  | `refactor: ä¼˜åŒ–æ•°æ®æŸ¥è¯¢é€»è¾‘` |
| `test` | æµ‹è¯•ç›¸å…³ | `test: æ·»åŠ å•å…ƒæµ‹è¯•` |
| `chore` | æ„å»º/å·¥å…· | `chore: æ›´æ–°ä¾èµ–åŒ…` |
| `perf` | æ€§èƒ½ä¼˜åŒ– | `perf: ä¼˜åŒ–æ•°æ®åº“æŸ¥è¯¢` |

### ç¤ºä¾‹

```bash
# ç®€å•æäº¤
git commit -m "feat: æ·»åŠ ç”¨æˆ·ç™»å½•åŠŸèƒ½"

# å¸¦èŒƒå›´çš„æäº¤
git commit -m "fix(auth): ä¿®å¤tokenè¿‡æœŸæ£€æŸ¥"

# å¤šè¡Œæäº¤
git commit -m "feat(api): æ·»åŠ ç”¨æˆ·ç®¡ç†æ¥å£

- å®ç°ç”¨æˆ·åˆ—è¡¨æŸ¥è¯¢
- å®ç°ç”¨æˆ·åˆ›å»º
- å®ç°ç”¨æˆ·æ›´æ–°å’Œåˆ é™¤

Closes #123"
```

---

## å¸¸è§é—®é¢˜å¤„ç†

### é—®é¢˜1ï¼šæäº¤äº†ä¸è¯¥æäº¤çš„æ–‡ä»¶

```bash
# æ’¤é”€æœ€åä¸€æ¬¡æäº¤ï¼ˆä¿ç•™æ›´æ”¹ï¼‰
git reset --soft HEAD^

# åˆ é™¤æ•æ„Ÿæ–‡ä»¶
git rm --cached æ•æ„Ÿæ–‡ä»¶

# é‡æ–°æäº¤
git commit -m "ç§»é™¤æ•æ„Ÿæ–‡ä»¶"
```

### é—®é¢˜2ï¼šæäº¤ä¿¡æ¯å†™é”™äº†

```bash
# ä¿®æ”¹æœ€åä¸€æ¬¡æäº¤ä¿¡æ¯
git commit --amend -m "æ­£ç¡®çš„æäº¤ä¿¡æ¯"

# æˆ–ä½¿ç”¨åˆ«å
git ci --amend -m "æ­£ç¡®çš„æäº¤ä¿¡æ¯"
```

### é—®é¢˜3ï¼šæƒ³è¦åˆå¹¶å¤šä¸ªæäº¤

```bash
# äº¤äº’å¼å˜åŸºï¼ˆæœ€è¿‘3ä¸ªæäº¤ï¼‰
git rebase -i HEAD~3

# å°† 'pick' æ”¹ä¸º 'squash' æˆ– 's'
# ä¿å­˜å¹¶ç¼–è¾‘åˆå¹¶åçš„æäº¤ä¿¡æ¯
```

### é—®é¢˜4ï¼šå‘ç°æ–‡ä»¶è¢«ä¿®æ”¹ä½†ä¸çŸ¥é“å¦‚ä½•æ¢å¤

```bash
# æŸ¥çœ‹ä¿®æ”¹å†å²
git log --follow -p æ–‡ä»¶å

# æ¢å¤åˆ°æŸä¸ªç‰ˆæœ¬
git checkout æäº¤ID -- æ–‡ä»¶å
```

### é—®é¢˜5ï¼šå¿˜è®°äº†æäº¤äº†ä»€ä¹ˆ

```bash
# æŸ¥çœ‹æœ€è¿‘5æ¬¡æäº¤çš„è¯¦ç»†ä¿¡æ¯
git log -p -5

# æŸ¥çœ‹æŸä¸ªæäº¤çš„å†…å®¹
git show æäº¤ID
```

---

## å¿«é€Ÿå‚è€ƒå¡ç‰‡

### æ¯æ—¥å·¥ä½œæµ

```bash
# å¼€å§‹å·¥ä½œå‰
git pull                    # æ‹‰å–æœ€æ–°æ›´æ”¹

# å·¥ä½œä¸­
git status                  # æŸ¥çœ‹çŠ¶æ€
git add .                   # æ·»åŠ æ›´æ”¹
git commit -m "æè¿°"        # æäº¤

# å·¥ä½œç»“æŸ
git push                    # æ¨é€æ›´æ”¹
```

### ç´§æ€¥æ•‘æ´

```bash
# æ’¤é”€æ‰€æœ‰æœªæäº¤çš„æ›´æ”¹
git reset --hard HEAD

# æ’¤é”€æœ€åä¸€æ¬¡æäº¤ï¼ˆä¿ç•™æ›´æ”¹ï¼‰
git reset --soft HEAD^

# æ¢å¤å·²åˆ é™¤çš„æ–‡ä»¶
git checkout HEAD -- æ–‡ä»¶å
```

---

## ç›¸å…³èµ„æº

- [Git å®˜æ–¹æ–‡æ¡£](https://git-scm.com/doc)
- [Pro Git ä¸­æ–‡ç‰ˆ](https://git-scm.com/book/zh/v2)
- [GitHub Git ä¸­æ–‡æŒ‡å—](https://git.github.io/)
- [å»–é›ªå³° Git æ•™ç¨‹](https://www.liaoxuefeng.com/wiki/896043488029600)

---

**æç¤ºï¼š** ä½¿ç”¨ `./scripts/git-workflow.sh help` æŸ¥çœ‹è„šæœ¬ä½¿ç”¨å¸®åŠ©
